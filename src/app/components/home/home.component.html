<div class="home-wrapper">
  <div class="modern-container">

    <h2 class="titulo-apoiadores text-center">Apoiadores</h2>

    <!-- Hero / Carousel -->
    <div class="modern-hero">
      <div class="modern-carousel-container">
        <!-- Existing Carousel Code -->
        <div id="carouselApoiadores" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000"
          *ngIf="apoiadores.length > 0">
          <div class="carousel-inner">
            <div class="carousel-item" *ngFor="let apoiador of apoiadores; let i = index"
              [class.active]="i === indiceInicialCarrossel">
              <a [href]="apoiador.link" target="_blank" rel="noopener noreferrer">
                <picture>
                  <source [srcset]="apoiador.imgMobile" media="(max-width: 768px)" />
                  <img [src]="apoiador.imgDesktop" class="d-block w-100" [alt]="apoiador.nome" />
                </picture>
              </a>
            </div>
          </div>

          <!-- Indicadores (dots) -->
          <div class="carousel-indicators">
            <button *ngFor="let apoiador of apoiadores; let i = index" type="button"
              data-bs-target="#carouselApoiadores" [attr.data-bs-slide-to]="i"
              [class.active]="i === indiceInicialCarrossel"
              [attr.aria-current]="i === indiceInicialCarrossel ? 'true' : null" [attr.aria-label]="'Slide ' + (i + 1)">
            </button>
          </div>
        </div>
      </div>
    </div>




    <!-- Main Actions -->
    <div class="main-actions">
      <a mat-raised-button color="primary" class="action-btn" [routerLink]="['/jogadores']">
        <mat-icon fontIcon="groups"></mat-icon>
        Jogadores
      </a>
      <a mat-raised-button color="primary" class="action-btn" [routerLink]="['/head-to-head']">
        <mat-icon fontIcon="compare_arrows"></mat-icon>
        Head-to-Head
      </a>
      <a mat-raised-button color="primary" class="action-btn" [routerLink]="['/ranking-history']">
        <mat-icon fontIcon="history"></mat-icon>
        Histórico
      </a>
    </div>

    <h2 class="titulo-pagina text-center">Estatísticas</h2>

    <!-- Ranking Statistics -->
    <div class="ranking-stats">
      <!-- Loading State -->
      <div *ngIf="loading$ | async" class="loading-container">
        <mat-spinner diameter="50"></mat-spinner>
        <p>Carregando estatísticas...</p>
      </div>

      <!-- Statistics Cards -->
      <ng-container *ngIf="!(loading$ | async)">
        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-value">{{ totalJogos | number:'1.0-0':'pt-BR' }}</div>
            <div class="stat-label">Total de Jogos do Ranking</div>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-value">{{ jogosCicloAtual | number:'1.0-0':'pt-BR' }}</div>
            <div class="stat-label">Jogos do Ciclo Atual ({{ cicloAtual }})</div>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <h2 class="titulo-pagina text-center">Links do Ciclo {{cicloAtual}}</h2>

    <!-- Classes Grid -->
    <div class="classes-grid">
      <mat-card *ngFor="let classe of grupos" class="modern-card">
        <mat-card-header class="d-flex justify-content-center">
          <mat-card-title>{{ classe.nome }}</mat-card-title>
        </mat-card-header>
        <mat-card-actions>
          <a mat-raised-button color="primary" [href]="classe.linkFormulario" target="_blank" rel="noopener noreferrer">
            Lançar resultado
          </a>
          <a mat-raised-button color="secondary" [href]="classe.linkTabela" target="_blank" rel="noopener noreferrer">
            Tabela
          </a>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- Footer Links -->
    <div class="footer-links" style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
      <a mat-raised-button href="https://drive.google.com/file/d/1hmsqmIIRPxeXQEtUcHBCvZycAFMI4roL/view" target="_blank"
        rel="noopener noreferrer">
        Regulamento
      </a>
      <a mat-raised-button href="https://docs.google.com/spreadsheets/d/1owxV0YTm_SKMNC5XfjwF80GE8UtLHqx7EaCavLpGq4g"
        target="_blank" rel="noopener noreferrer">
        Simulador de resultado
      </a>
    </div>

  </div>
</div>